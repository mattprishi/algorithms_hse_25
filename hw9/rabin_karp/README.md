#### 1. Объяснение Rolling Hash

**Rolling Hash** (скользящий хэш) - это ключевая техника, которая обеспечивает эффективность алгоритма. Её суть в том, чтобы пересчитывать хэш для нового окна текста за константное время `O(1)`, вместо полного пересчета за `O(M)`.

Это достигается за счет представления строки как числа в некоторой системе счисления (где `base` — основание, а `ord(char)` — цифры).

При сдвиге окна на один символ вправо:
1.  **Удаляется вклад старого символа:** Из общего хэша вычитается значение самого левого символа, умноженное на `base^(M-1)`.
2.  **Сдвигается хэш:** Результат умножается на `base`, что эквивалентно сдвигу разрядов влево.
3.  **Добавляется вклад нового символа:** К результату прибавляется значение нового, самого правого символа.

Все операции выполняются по модулю `mod` для предотвращения переполнения.

---

#### 2. Оценка сложности итогового алгоритма

*   **Время выполнения (Time Complexity):**
    *   **Средний случай: `O(N + M)`**
        *   `O(M)`: на вычисление хэша для образца и первого окна текста.
        *   `O(N - M)`: на `N-M` итераций сдвига окна. Каждая итерация (пересчет хэша и сравнение) занимает `O(1)`.
        *   Этот сценарий предполагает, что коллизии хэшей редки.

    *   **Худший случай: `O(N * M)`**
        *   Возникает при неудачном выборе `base` и `mod`, что приводит к большому числу коллизий (ложных совпадений хэшей).
        *   В этом случае на каждом из `N-M` шагов будет запускаться посимвольная проверка стоимостью `O(M)`.

*   **Дополнительная память (Space Complexity):**
    *   **`O(1)`**
        *   Алгоритму требуется лишь константное количество памяти для хранения хэшей образца и текущего окна, а также предвычисленного множителя `h`. Размер входных данных не влияет на объем используемой памяти.